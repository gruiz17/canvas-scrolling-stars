(function(){var t,p,u,v,w;u=function(){function a(d,b,c,g,h,e,f){var k,a,l,m,q,n,r,s;this.stars=[];this.type=d;this.speed=c;this.direction=g;this.color=h;this.starCount=e;this.layers=f;this.layered=!1;if(1>c)throw Error("Speed must be at least 1");if("undefined"===typeof g||"UP"!==g&&"DOWN"!==g&&"LEFT"!==g&&"RIGHT"!==g)throw Error("Specify a direction from ['UP', 'DOWN', 'LEFT', 'RIGHT']");if("CIRCLE"!==d)throw console.log("enter one of these as first argument: ['CIRCLE']"),Error("didn't enter a valid type of star from ['CIRCLE']");
if("undefined"!==typeof f)for(this.layered=!0,m=Math.floor(e/f),q=!0,a=r=d=1;1<=f?r<=f:r>=f;a=1<=f?++r:--r)if(1===f)for(this.layered=!1,l=1;1<=m?l<=m:l>=m;1<=m?++l:--l)a=Math.floor(Math.random()*window.canvas.width+1),n=Math.floor(Math.random()*window.canvas.height+1),this.stars.push(new p(b,a,n,c,g,h,this.stars));else{this.layered=!0;l={layerArray:[],first:!1};l.small=q;l.ratio=d;if(1===a)for(l.first=!0,k=1;1<=m?k<=m:k>=m;1<=m?++k:--k)a=Math.floor(Math.random()*window.canvas.width+1),n=Math.floor(Math.random()*
window.canvas.height+1),l.layerArray.push(new p(b,a,n,c,g,h,l.layerArray));else if(a===f)if(a=this.stars.reduce(function(b,d){return b+d}),a+m<e)for(k=e-a,s=1;1<=k?s<=k:s>=k;1<=k?++s:--s)a=Math.floor(Math.random()*window.canvas.width+1),n=Math.floor(Math.random()*window.canvas.height+1),q?l.layerArray.push(new p(b/d,a,n,c/d,g,h,l.layerArray)):l.layerArray.push(new p(b+d,a,n,c*d,g,h,l.layerArray));else for(k=1;1<=m?k<=m:k>=m;1<=m?++k:--k)a=Math.floor(Math.random()*window.canvas.width+1),n=Math.floor(Math.random()*
window.canvas.height+1),q?l.layerArray.push(new p(b/d,a,n,c/d,g,h,l.layerArray)):l.layerArray.push(new p(b+d,a,n,c*d,g,h,l.layerArray));else for(k=1;1<=m?k<=m:k>=m;1<=m?++k:--k)a=Math.floor(Math.random()*window.canvas.width+1),n=Math.floor(Math.random()*window.canvas.height+1),q?l.layerArray.push(new p(b/d,a,n,c/d,g,h,l.layerArray)):l.layerArray.push(new p(b+d,a,n,c*d,g,h,l.layerArray));q?(q=!1,d*=2):q=!0;this.stars.push(l)}else for(a=f=1;1<=e?f<=e:f>=e;a=1<=e?++f:--f)a=Math.floor(Math.random()*window.canvas.width+
1),n=Math.floor(Math.random()*window.canvas.height+1),this.stars.push(new p(b,a,n,c,g,h,this.stars))}a.prototype.draw=function(){var d,b,c,g,a,e,f;if(!0===this.layered)for(e=this.stars,b=0,g=e.length;b<g;b++)for(d=e[b],f=d.layerArray,c=0,a=f.length;c<a;c++)d=f[c],d.draw();else if(0<this.stars.length)for(e=this.stars,b=0,g=e.length;b<g;b++)d=e[b],d.draw()};a.prototype.moveStars=function(){var d,b,c,a,h,e,f;if(!0===this.layered)for(e=this.stars,b=0,a=e.length;b<a;b++)for(d=e[b],f=d.layerArray,c=0,h=
f.length;c<h;c++)d=f[c],d.move();else if(0<this.stars.length)for(e=this.stars,b=0,a=e.length;b<a;b++)d=e[b],d.move()};a.prototype.setDirection=function(d){var b,c,a,h,e,f,k;if(!0===this.layered)for(f=this.stars,c=0,h=f.length;c<h;c++)for(b=f[c],k=b.layerArray,a=0,e=k.length;a<e;a++)b=k[a],b.direction=this.direction=d;else if(0<this.stars.length)for(f=this.stars,c=0,h=f.length;c<h;c++)b=f[c],b.direction=this.direction=d};a.prototype.freeze=function(){var d,b,a,g,h,e,f;if(!0===this.layered)for(e=this.stars,
b=0,g=e.length;b<g;b++)for(d=e[b],f=d.layerArray,a=0,h=f.length;a<h;a++)d=f[a],d.speed=0;else if(0<this.stars.length)for(e=this.stars,b=0,g=e.length;b<g;b++)d=e[b],d.speed=0};a.prototype.resume=function(){this.setSpeed(this.speed);this.setDirection(this.direction)};a.prototype.setSpeed=function(a){var b,c,g,h,e,f,k;if(!0===this.layered)for(b=a,8<a?b=8:1>a&&(b=1),c=a=1,f=this.layers;1<=f?a<=f:a>=f;c=1<=f?++a:--a)if(1===c)for(e=this.stars[c-1].layerArray,c=0,h=e.length;c<h;c++)g=e[c],g.speed=b;else if(this.stars[c-
1].small)for(k=this.stars[c-1].layerArray,h=0,e=k.length;h<e;h++)g=k[h],g.speed=b/this.stars[c-1].ratio;else for(k=this.stars[c-1].layerArray,h=0,e=k.length;h<e;h++)g=k[h],g.speed=b*this.stars[c-1].ratio;else if(0<this.stars.length)for(c=this.stars,f=0,b=c.length;f<b;f++)g=c[f],g.speed=8<a?this.speed=8:1>a?this.speed=1:this.speed=a};a.prototype.changeSpeed=function(a){var b,c,g,h;if(0<this.stars.length)for(h=this.stars,c=0,g=h.length;c<g;c++)b=h[c],b.speed+=a,this.speed+=a,1>b.speed?b.speed=this.speed=
1:8<b.speed&&(b.speed=this.speed=8)};a.prototype.setColor=function(a,b){var c,g,h,e;if(!a&&0<this.stars.length)for(e=this.stars,g=0,h=e.length;g<h;g++)c=e[g],c.color=this.color=b};a.prototype.destroy=function(){this.stars=[]};return a}();p=function(){function a(a,b,c,g,h,e,f){this.radius=a;this.centerX=b;this.centerY=c;this.speed=g;this.direction=h;this.color=e;this.destroyed=!1;this.parentArray=f}a.prototype.draw=function(){window.ctx.fillStyle=this.color;window.ctx.strokeStyle=this.color;window.ctx.beginPath();
window.ctx.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,!1);window.ctx.fill();window.ctx.stroke();if(this.destroyed)return this.destroy()};a.prototype.move=function(){"LEFT"===this.direction?this.centerX-=this.speed:"RIGHT"===this.direction?this.centerX+=this.speed:"UP"===this.direction?this.centerY-=this.speed:"DOWN"===this.direction&&(this.centerY+=this.speed);if(0>this.centerX||this.centerX>window.canvas.width||0>this.centerY||this.centerY>window.canvas.height)return this.destroyed=!0};
a.prototype.destroy=function(){var d,b;b=d=0;"LEFT"===this.direction?(d=window.canvas.width,b=Math.floor(Math.random()*window.canvas.height+1)):"RIGHT"===this.direction?b=Math.floor(Math.random()*window.canvas.height+1):"UP"===this.direction?(d=Math.floor(Math.random()*window.canvas.width+1),b=window.canvas.height):"DOWN"===this.direction&&(d=Math.floor(Math.random()*window.canvas.width+1));this.parentArray.push(new a(this.radius,d,b,this.speed,this.direction,this.color,this.parentArray));d=this.parentArray.indexOf(this);
return this.parentArray.splice(d,1)};return a}();t=jQuery;t("#game").click(function(a){});t("#game").attr("tabindex","0").keydown(function(a){console.log(a.keyCode);87===a.keyCode&&window.starField.setDirection("UP");83===a.keyCode&&window.starField.setDirection("DOWN");65===a.keyCode&&window.starField.setDirection("LEFT");68===a.keyCode&&window.starField.setDirection("RIGHT");81===a.keyCode&&window.starField.freeze();69===a.keyCode&&window.starField.resume();74===a.keyCode&&window.starField.changeSpeed(-1);
if(75===a.keyCode)return window.starField.changeSpeed(1)});t("#gamebox").mousemove(function(a){});window.canvas=document.getElementById("game");window.rect=window.canvas.getBoundingClientRect();window.canvas.width=window.canvas.height=570;window.ctx=window.canvas.getContext("2d");window.starField=new u("CIRCLE",1,1,"UP","#ffffff",100,3);w=function(){window.starField.moveStars()};v=function(){window.ctx.clearRect(0,0,window.canvas.width,window.canvas.height);window.starField.draw()};setInterval(function(){w();
v()},10)}).call(this);

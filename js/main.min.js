(function(){var h,l,m,n,p;m=function(){function a(e,b,d,c,a,g){var h,k;this.stars=[];this.type=e;this.speed=d;this.direction=c;this.color=a;if(1>d)throw Error("Speed must be at least 1");if("undefined"===typeof c||"UP"!==c&&"DOWN"!==c&&"LEFT"!==c&&"RIGHT"!==c)throw Error("Specify a direction from ['UP', 'DOWN', 'LEFT', 'RIGHT']");if("CIRCLE"!==e)throw console.log("enter one of these as first argument: ['CIRCLE']"),Error("didn't enter a valid type of star from ['CIRCLE']");for(k=1;1<=g?k<=g:k>=g;1<=
g?++k:--k)e=Math.floor(Math.random()*window.canvas.width+1),h=Math.floor(Math.random()*window.canvas.height+1),this.stars.push(new l(b,e,h,d,c,a,this.stars))}a.prototype.draw=function(){var e,b,d,c;if(0<this.stars.length)for(c=this.stars,b=0,d=c.length;b<d;b++)e=c[b],e.draw()};a.prototype.moveStars=function(){var e,b,d,c;if(0<this.stars.length)for(c=this.stars,b=0,d=c.length;b<d;b++)e=c[b],e.move()};a.prototype.setDirection=function(e){var b,d,c,a;if(0<this.stars.length)for(a=this.stars,d=0,c=a.length;d<
c;d++)b=a[d],b.direction=this.direction=e};a.prototype.freeze=function(){var a,b,d,c;if(0<this.stars.length)for(c=this.stars,b=0,d=c.length;b<d;b++)a=c[b],a.speed=0};a.prototype.resume=function(){this.setSpeed(this.speed);this.setDirection(this.direction)};a.prototype.setSpeed=function(a){var b,d,c,f;if(0<this.stars.length)for(f=this.stars,d=0,c=f.length;d<c;d++)b=f[d],b.speed=8<a?this.speed=8:1>a?this.speed=1:this.speed=a};a.prototype.changeSpeed=function(a){var b,d,c,f;if(0<this.stars.length)for(f=
this.stars,d=0,c=f.length;d<c;d++)b=f[d],b.speed+=a,this.speed+=a,1>b.speed?b.speed=this.speed=1:8<b.speed&&(b.speed=this.speed=8)};a.prototype.setColor=function(a,b){var d,c,f,g;if(!a&&0<this.stars.length)for(g=this.stars,c=0,f=g.length;c<f;c++)d=g[c],d.color=this.color=b};a.prototype.destroy=function(){this.stars=[]};return a}();l=function(){function a(a,b,d,c,f,g,h){this.radius=a;this.centerX=b;this.centerY=d;this.speed=c;this.direction=f;this.color=g;this.destroyed=!1;this.parentArray=h}a.prototype.draw=
function(){window.ctx.fillStyle=this.color;window.ctx.strokeStyle=this.color;window.ctx.beginPath();window.ctx.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI,!1);window.ctx.fill();window.ctx.stroke();if(this.destroyed)return this.destroy()};a.prototype.move=function(){"LEFT"===this.direction?this.centerX-=this.speed:"RIGHT"===this.direction?this.centerX+=this.speed:"UP"===this.direction?this.centerY-=this.speed:"DOWN"===this.direction&&(this.centerY+=this.speed);if(0>this.centerX||this.centerX>
window.canvas.width||0>this.centerY||this.centerY>window.canvas.height)return this.destroyed=!0};a.prototype.destroy=function(){var e,b;b=e=0;"LEFT"===this.direction?(e=window.canvas.width,b=Math.floor(Math.random()*window.canvas.height+1)):"RIGHT"===this.direction?b=Math.floor(Math.random()*window.canvas.height+1):"UP"===this.direction?(e=Math.floor(Math.random()*window.canvas.width+1),b=window.canvas.height):"DOWN"===this.direction&&(e=Math.floor(Math.random()*window.canvas.width+1));this.parentArray.push(new a(this.radius,
e,b,this.speed,this.direction,this.color,this.parentArray));e=this.parentArray.indexOf(this);return this.parentArray.splice(e,1)};return a}();h=jQuery;h("#game").click(function(a){});h("#game").attr("tabindex","0").keydown(function(a){console.log(a.keyCode);87===a.keyCode&&window.starField.setDirection("UP");83===a.keyCode&&window.starField.setDirection("DOWN");65===a.keyCode&&window.starField.setDirection("LEFT");68===a.keyCode&&window.starField.setDirection("RIGHT");81===a.keyCode&&window.starField.freeze();
69===a.keyCode&&window.starField.resume();74===a.keyCode&&window.starField.changeSpeed(-1);if(75===a.keyCode)return window.starField.changeSpeed(1)});h("#gamebox").mousemove(function(a){});window.canvas=document.getElementById("game");window.rect=window.canvas.getBoundingClientRect();window.canvas.width=window.canvas.height=570;window.ctx=window.canvas.getContext("2d");window.starField=new m("CIRCLE",1,1.5,"UP","#ffffff",100);p=function(){window.starField.moveStars()};n=function(){window.ctx.clearRect(0,
0,window.canvas.width,window.canvas.height);window.starField.draw()};setInterval(function(){p();n()},10)}).call(this);
